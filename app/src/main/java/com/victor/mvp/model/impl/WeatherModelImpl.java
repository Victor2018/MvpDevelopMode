package com.victor.mvp.model.impl;import android.util.Log;import com.android.volley.Response;import com.android.volley.VolleyError;import com.google.gson.Gson;import com.victor.mvp.model.WeatherModel;import com.victor.mvp.model.data.Weather;import com.victor.mvp.presenter.OnWeatherListener;import com.victor.mvp.util.VolleyRequest;/** * Created by victor on 2017/2/8. * 天气Model实现 */public class WeatherModelImpl implements WeatherModel {    private String TAG = "WeatherModelImpl";    @Override    public void loadWeather(String cityNO, final OnWeatherListener listener) {        /*数据层操作*/        VolleyRequest.newInstance().newGsonRequest("http://www.weather.com.cn/data/sk/" + cityNO + ".html",                Weather.class, new Response.Listener<Weather>() {                    @Override                    public void onResponse(Weather weather) {                        if (weather != null) {                            Log.e(TAG,"weather-getCity = " + weather.getWeatherinfo().getCity());                            listener.onSuccess(weather);                        } else {                            listener.onError();                        }                    }                }, new Response.ErrorListener() {                    @Override                    public void onErrorResponse(VolleyError error) {                        listener.onError();                    }                });    }}